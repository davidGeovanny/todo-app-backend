(this["webpackJsonptodo-list-app"]=this["webpackJsonptodo-list-app"]||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),o=a(18),l=a(12),s=a(7),m=a(55),u=function(e){var t=e.isAuthenticated,a=e.component,n=Object(m.a)(e,["isAuthenticated","component"]);return r.a.createElement(l.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(l.a,{to:"/"}):r.a.createElement(a,e)}}))},d=function(e){var t=e.isAuthenticated,a=e.component,n=Object(m.a)(e,["isAuthenticated","component"]);return r.a.createElement(l.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(l.a,{to:"/login"})}}))},p=a(13),f=a(8),v=a.n(f),b=a(57),E=a(5),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],c=a[1],i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)},o=function(e){c(Object(E.a)(Object(E.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))};return[r,o,i]},g=a(9),y=a.n(g),j=a(16),N="[Auth] Login",O="[Auth] Finish checking login state",w="[Auth] Start logout",k="[UI] Show modal",x="[UI] Hide modal",C="[UI] Show side modal",A="[UI] Hide side modal",P="[UI] Show confirm modal",S="[UI] Hide confirm modal",I="[UI] Form modal",_="[UI] Info modal",T="[Project] Loaded projects",L="[Project] Set active project",q="[Project] Clear active project",D="[Project] Added project",M="[Project] Updated project",z="[Project] Done project",F="[Project] Show finished projects",B="[Project] Condition show projects",U="[Activity] Loading finish",H="[Activity] Loaded activities",G="[Activity] Set active activity",R="[Activity] Added note",J="[Activity] Checked note",V="[Activity] Added message",X="[Activity] Added activity",K="[Activity] Updated activity",Q="[Activity] Done activity",W="[Activity] Deleted activity",Y="[Activity] Clear active activity",Z="http://localhost:3001/api",$=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(Z,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(Z,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===a?fetch(n,{method:a,headers:{"x-token":r}}):fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":r},body:JSON.stringify(t)})},te=function(e){return{type:N,payload:e}},ae=function(){return{type:O}},ne=function(){return{type:w}},re=(a(95),function(){var e=Object(s.b)(),t=h({loginEmail:"david.geovanny@hotmail.com",loginPassword:"123456"}),a=Object(p.a)(t,2),n=a[0],c=a[1],i=h({registerEmail:"david.geovanny@hotmail.com",registerPassword:"123456",registerPasswordRepeat:"123456",registerName:"David Geovanny"}),o=Object(p.a)(i,2),l=o[0],m=o[1],u=n.loginEmail,d=n.loginPassword,f=l.registerName,b=l.registerEmail,E=l.registerPassword,g=l.registerPasswordRepeat;return r.a.createElement("div",{className:"container login-container login-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 login-form-1"},r.a.createElement("h3",null,"Ingreso"),r.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),e((a=u,n=d,function(){var e=Object(j.a)(y.a.mark((function e(t){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("auth/",{email:a,password:n},"POST");case 2:return r=e.sent,e.next=5,r.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(te({uid:c.uid,name:c.name}))):v.a.fire({title:"Error",text:c.msg,icon:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Correo",autoComplete:"off",name:"loginEmail",value:u,onChange:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"loginPassword",value:d,onChange:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btnSubmit",value:"Login"})))),r.a.createElement("div",{className:"col-md-6 login-form-2"},r.a.createElement("h3",null,"Registro"),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),E!==g)return v.a.fire({title:"Error",text:"Las contrase\xf1as deben de ser iguales",icon:"error"});var a,n,r;e((a=f,n=b,r=E,function(){var e=Object(j.a)(y.a.mark((function e(t){var c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.fire({title:"Verificando datos",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),e.next=3,$("auth/new",{name:a,email:n,password:r},"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:(i=e.sent).ok?(localStorage.setItem("token",i.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(te({uid:i.uid,name:i.name}))):(v.a.fire({title:"Error",text:i.msg,icon:"error"}),t(ae()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"registerName",value:f,onChange:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Correo",name:"registerEmail",value:b,onChange:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"registerPassword",value:E,onChange:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Repita la contrase\xf1a",name:"registerPasswordRepeat",value:g,onChange:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"}))))))}),ce=function(e){var t,a,n=e.variant,c=e.type;e.size;switch(n){case"primary":t="text-primary";break;case"success":t="text-success";break;case"warning":t="text-warning";break;case"info":t="text-info";break;case"danger":t="text-danger";break;default:t="text-primary"}switch(c){case"border":a="spinner-border";break;case"grow":a="spinner-grow";break;default:a="spinner-border"}return r.a.createElement("div",{className:"".concat(a," ").concat(t," big"),role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},ie=a(113),oe=a(107),le=a(108),se=a(81),me=function(){var e=Object(s.b)();return r.a.createElement(ie.a,{bg:"primary",variant:"dark",expand:"lg",sticky:"top"},r.a.createElement(ie.a.Brand,{href:"#home"},"React-Bootstrap"),r.a.createElement(ie.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ie.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(oe.a,{className:"mr-auto"},r.a.createElement(oe.a.Link,{href:"#home"},"Home"),r.a.createElement(oe.a.Link,{href:"#link"},"Link"),r.a.createElement(le.a,{title:"Dropdown",id:"basic-nav-dropdown"},r.a.createElement(le.a.Item,{href:"#action/3.1"},"Action"),r.a.createElement(le.a.Item,{href:"#action/3.2"},"Another action"),r.a.createElement(le.a.Item,{href:"#action/3.3"},"Something"),r.a.createElement(le.a.Divider,null),r.a.createElement(le.a.Item,{href:"#action/3.4"},"Separated link"))),r.a.createElement(se.a,{variant:"danger",onClick:function(){e(function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),t(ne());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ","Salir")))},ue=function(){return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"jumbotron text-center blue-grey lighten-5"},r.a.createElement("h2",{className:"card-title h2"},"No hay proyectos disponibles para mostrar"),r.a.createElement("p",{className:"indigo-text my-4 font-weight-bold"},"Todo esfuerzo empieza de algo peque\xf1o.",r.a.createElement("br",null),"\xbfPor qu\xe9 no empezar a crear un nuevo proyecto?"),r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",{className:"col-xl-7 pb-2"},r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga aliquid dolorem ea distinctio exercitationem delectus qui, quas eum architecto, amet quasi accusantium, fugit consequatur ducimus obcaecati numquam molestias hic itaque accusantium doloremque laudantium, totam rem aperiam."))),r.a.createElement("hr",{className:"my-4 pb-2"}),r.a.createElement("button",{className:"btn btn-lg btn-indigo btn-rounded"},"Crear proyecto ahora ",r.a.createElement("i",{className:"fas fa-tasks"})))))},de=function(e){var t=e.id,a=e.area,n=e.title,c=e.description;return r.a.createElement("div",{className:"card card-image",style:{backgroundImage:"url(https://assets.entrepreneur.com/content/3x2/2000/20191112054904-FotoJet32.jpeg)"}},r.a.createElement("div",{className:"justify-content-center d-flex rgba-black-strong py-5 px-4 animate__animated animate__fadeIn animate__faster"},r.a.createElement("div",{className:"text-white text-center"},r.a.createElement("h5",{className:"pink-text"},r.a.createElement("i",{className:"fas fa-chart-pie"})," ",a),r.a.createElement("h3",{className:"card-title pt-2"},r.a.createElement("strong",null,n)),r.a.createElement("p",{className:"card-description"},c),r.a.createElement(o.b,{className:"btn btn-pink",to:"./projects/".concat(t,"/activities")},r.a.createElement("i",{className:"far fa-clone left"})," Ver proyecto"))))},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"===typeof a[e]?a[e].toUpperCase():a[e],c="string"===typeof n[e]?n[e].toUpperCase():n[e],i=0;return r>c?i=1:r<c&&(i=-1),"desc"===t?-1*i:i}},fe=function(e,t){var a=e.find((function(e){return e.id===t}));return a||null},ve=function(){var e=Object(s.c)((function(e){return e.projects})),t=e.projects,a=e.conditionShowProjects,c=e.showFinishedProjects,i=Object(n.useState)([]),o=Object(p.a)(i,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){m(function(e,t,a){var n=t?e:e.filter((function(e){return e.done===t}));return n=0===a?n.sort(pe("id")):n.sort(pe("area"))}(t,c,a))}),[t,c,a]),r.a.createElement("div",{className:"row justify-content-md-center blue-grey lighten-5 z-depth-1 m-1 animate__animated animate__fadeInUp"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row m-3"},l.map((function(e,t){return r.a.createElement("div",{className:"col-lg-4 col-md-6 col-12 mt-2",key:e.id},r.a.createElement(de,{id:e.id,area:e.area,title:e.title,description:e.description}))})))))},be=function(e){var t,a=e.variant,n=e.icon,c=e.onClick,i=e.aditionalClass,o=void 0===i?"":i;switch(a){case"primary":t="btn-primary";break;case"success":t="btn-success";break;case"warning":t="btn-warning";break;case"danger":t="btn-danger";break;case"info":t="btn-info";break;case"secondary":t="btn-secondary";break;case"dark":t="btn-dark";break;default:t="btn-primary"}return r.a.createElement("div",{className:"fixed-action-btn"},r.a.createElement("button",{className:"btn btn-floating ".concat(t," ").concat(o),onClick:c},r.a.createElement("i",{className:n})))},Ee=function(e){var t=e.id,a=e.text,n=e.checked,c=void 0!==n&&n,i=e.onChange;return r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"customCheck-".concat(t),checked:c,onChange:i}),r.a.createElement("label",{className:"form-check-label",htmlFor:"customCheck-".concat(t)},a))},he=a(38),ge=function(e){var t=e.text,a=e.index;return r.a.createElement(he.a.Item,{href:"#/action-".concat(a)},t)},ye=function(e){var t,a=e.variant,n=e.items;switch(a){case"primary":t="dropdown-primary";break;case"success":t="dropdown-success";break;case"warning":t="dropdown-warning";break;case"danger":t="dropdown-danger";break;case"info":t="dropdown-info";break;case"secondary":t="dropdown-secondary";break;case"dark":t="dropdown-dark";break;default:t="dropdown-primary"}return r.a.createElement(he.a.Menu,{className:"".concat(t)},n.map((function(e,t){return r.a.createElement(ge,{key:t,index:t,text:e})})))},je=function(e){var t,a=e.variant,n=e.textLabel,c=void 0===n?"Seleccione una opci\xf3n":n,i=e.items,o=e.onSelect,l=e.textBeforeDropdown,s=void 0===l?"":l;switch(a){case"primary":t="primary";break;case"success":t="success";break;case"warning":t="warning";break;case"danger":t="danger";break;case"info":t="info";break;case"secondary":t="secondary";break;case"dark":t="dark";break;default:t="primary"}return r.a.createElement(he.a,{onSelect:o,style:{zIndex:"999"}},!!s&&r.a.createElement("span",{className:"text-black-50"},r.a.createElement("em",null,s)," |"," "),r.a.createElement(he.a.Toggle,{variant:t},c),r.a.createElement(ye,{items:i,variant:t}))},Ne=["Por defecto","Por \xe1rea"],Oe=function(e){return{type:T,payload:{projects:e}}},we=function(e){return{type:L,payload:{id:e}}},ke=function(){return{type:q}},xe=function(e){return{type:D,payload:{project:e}}},Ce=function(e){return{type:M,payload:{project:e}}},Ae=function(e,t){return{type:z,payload:{id:e,done:t}}},Pe=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.projects})),i=c.projects,o=c.showFinishedProjects,l=c.conditionShowProjects;return r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3 animate__animated animate__fadeIn animate__faster"},i.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"d-flex pb-3 justify-content-between"},r.a.createElement(Ee,{id:"ended-projects",checked:o,text:"Mostrar proyectos terminados",onChange:function(){a({type:F})}}),r.a.createElement(je,{textLabel:"Mostrar proyectos...",items:Ne,onSelect:function(e){var t=parseInt(e.split("-")[1])||0;a({type:B,payload:{index:t}})},textBeforeDropdown:Ne[l],variant:"primary"})),r.a.createElement(ve,null)):r.a.createElement(ue,null),r.a.createElement(be,{variant:"primary",icon:"fas fa-plus",onClick:function(){t.push("projects/form")}}))},Se=a(112),Ie=a(109),_e=a(82),Te=function(){return r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3"},r.a.createElement("div",{className:"col-12 text-center mt-5"},r.a.createElement("h1",null,"No existe el proyecto seleccionado"),r.a.createElement(o.b,{className:"btn btn-indigo",to:"/",style:{zIndex:"999"}},r.a.createElement("i",{className:"fas fa-arrow-left"})," ","Regresar")))},Le=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.projects})),i=c.error,o=c.activeProject,m=c.loading,u=o||{},d=u.title,f=u.area,b=u.description,E=Object(l.g)().pathname.split("/"),g="form"!==E[E.length-1]&&E[E.length-1],N={formTitle:"",formArea:"",formDescription:""},O=h(N),w=Object(p.a)(O,3),k=w[0],x=w[1],C=w[2],A=k.formTitle,P=k.formArea,S=k.formDescription;if(Object(n.useEffect)((function(){g&&!m&&a(we(g))}),[a,g,m]),Object(n.useEffect)((function(){o&&JSON.stringify(k)===JSON.stringify(N)&&C({formTitle:d,formArea:f,formDescription:b})}),[o,f,d,b,C,k,N]),Object(n.useEffect)((function(){return function(){a(ke())}}),[a]),i)return r.a.createElement(Te,null);return r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3 animate__animated animate__fadeIn animate__faster"},r.a.createElement("div",{className:"row justify-content-end mr-1 mt-2 mb-2"},r.a.createElement("button",{onClick:function(){t.length<=2||!o?t.push("/"):t.goBack()},className:"btn btn-indigo",style:{zIndex:"999"}},r.a.createElement("i",{className:"fas fa-arrow-left"})," Regresar")),r.a.createElement("div",{className:"row blue-grey lighten-5 z-depth-1 m-1"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row m-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(Se.a,{onSubmit:function(e){e.preventDefault(),a(o?function(e,t,a,n){return function(){var r=Object(j.a)(y.a.mark((function r(c,i){var o,l,s,m;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=i().projects.activeProject,v.a.fire({title:"Agregando proyecto",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),l={title:e,area:t,description:a},r.next=6,ee("projects/".concat(o.id),l,"PUT");case 6:return s=r.sent,r.next=9,s.json();case 9:if((m=r.sent).ok){r.next=12;break}return r.abrupt("return",v.a.fire({title:"Error",text:m.msg||"Ha ocurrido un error inesperado",icon:"error"}));case 12:v.a.close(),c(Ce(m.project)),n.push("/projects/".concat(o.id,"/activities")),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log(r.t0);case 20:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(e,t){return r.apply(this,arguments)}}()}(A,P,S,t):function(e,t,a,n){return function(){var r=Object(j.a)(y.a.mark((function r(c){var i,o,l;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,v.a.fire({title:"Agregando proyecto",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),i={title:e,area:t,description:a},r.next=5,ee("projects",i,"POST");case 5:return o=r.sent,r.next=8,o.json();case 8:if((l=r.sent).ok){r.next=11;break}return r.abrupt("return",v.a.fire({title:"Error",text:l.msg||"Ha ocurrido un error inesperado",icon:"error"}));case 11:v.a.close(),c(xe(l.project)),n.push("/"),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(e){return r.apply(this,arguments)}}()}(A,P,S,t))}},r.a.createElement(Ie.a,null,r.a.createElement(_e.a,null,r.a.createElement(Se.a.Label,null,"Nombre del proyecto"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Ingrese el nombre del proyecto",name:"formTitle",value:A,onChange:x,autoComplete:"off"}),r.a.createElement(Se.a.Text,{className:"text-muted"},r.a.createElement("em",null,"Recomendamos utilizar un nombre corto y f\xe1cil de recordar"))),r.a.createElement(_e.a,null,r.a.createElement(Se.a.Label,null,"\xc1rea designada para el proyecto"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Ingrese el \xe1rea del proyecto",name:"formArea",value:P,onChange:x,autoComplete:"off"}))),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword",className:"mt-1"},r.a.createElement(Se.a.Label,null,"Descripci\xf3n del proyecto"),r.a.createElement(Se.a.Control,{as:"textarea",rows:"4",placeholder:"El proyecto consiste en...",name:"formDescription",value:S,onChange:x,className:"no-resizable square scrollbar-dusty-grass square thin"})),r.a.createElement(se.a,{variant:o?"outline-success":"outline-primary",type:"submit",block:!0},o?"Actualizar":"Agregar")))))))},qe=a(33),De=a.n(qe),Me=a(114),ze=a(110),Fe=a(115),Be=function(){return{type:x}},Ue=function(){return{type:k}},He=function(){return{type:A}},Ge=function(){return{type:S}},Re=function(){return{type:I}},Je=function(e){return{type:H,payload:{activities:e}}},Ve=function(){return{type:U}},Xe=function(e){return{type:G,payload:{id:e}}},Ke=function(e){return{type:R,payload:{note:e}}},Qe=function(e,t){return{type:J,payload:{id:e,done:t}}},We=function(e,t){return console.log(t),{type:Q,payload:{id:e,done:t}}},Ye=function(e){return{type:V,payload:{message:e}}},Ze=function(e){return{type:X,payload:{activity:e}}},$e=function(e){return{type:K,payload:{activity:e}}},et=function(){return{type:W}},tt=(a(73),function(e){var t=e.id,a=e.title,n=e.description,c=e.notes,i=void 0===c?[]:c,o=e.done,l=e.date;console.log(i);var m=Object(s.b)(),u=o?"success":"danger",d=De()(l).format("LL");return r.a.createElement(Fe.a,{className:"card border-".concat(u," mb-3 mt-3  activity-hover animate__animated animate__fadeInUp animate__faster")},r.a.createElement("div",{onClick:function(){m(Xe(t)),m(Ue()),m({type:_})},className:"cursor-pointer"},r.a.createElement(Fe.a.Header,{className:"bg-transparent border-".concat(u)},r.a.createElement("div",{className:"justify-content-between"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},a),r.a.createElement("div",{className:"col-2 text-muted"},function(){for(var e=0,t=0;t<i.length;t++)i[t].done&&e++;return e}()," / ",i.length)))),r.a.createElement(Fe.a.Body,{className:"text-muted"},r.a.createElement(Fe.a.Text,{className:"card-row card-description"},n))),r.a.createElement(Fe.a.Footer,{className:"text-muted bg-transparent border-".concat(u)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){m(Xe(t)),m(Re()),m(Ue())}},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement("div",{className:"col-6 "},r.a.createElement("div",{className:"row justify-content-end mr-1"},r.a.createElement("span",null,d))))))}),at=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.activities})).activities,a=Object(n.useState)({activitiesCompleted:[],activitiesNotCompleted:[]}),c=Object(p.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o(function(e){return{activitiesCompleted:e.filter((function(e){return!0===e.done})),activitiesNotCompleted:e.filter((function(e){return!1===e.done}))}}(t))}),[t]),Object(n.useEffect)((function(){return function(){e(ke())}}),[e]),r.a.createElement("div",{className:"row justify-content-around blue-grey lighten-5 z-depth-1 m-1"},r.a.createElement("div",{className:"col-12 mt-3"},r.a.createElement("h3",{className:"text-center"},"Actividades")),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 border-right"},r.a.createElement("h4",{className:"text-center mt-3"},"Pendiente"),i.activitiesNotCompleted.map((function(e,t){return r.a.createElement("div",{className:"container-fluid",key:t},r.a.createElement(tt,{id:e.id,title:e.title,description:e.description,notes:e.notes,done:e.done,date:e.created_at}))}))),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 border-left"},r.a.createElement("h4",{className:"text-center mt-3"},"Terminado"),i.activitiesCompleted.map((function(e,t){return r.a.createElement("div",{className:"container-fluid",key:t},r.a.createElement(tt,{id:e.id,title:e.title,description:e.description,notes:e.notes,done:e.done,date:e.created_at}))}))))},nt=a(116),rt=function(e){var t=e.id,a=e.text,n=e.done,c=Object(s.b)();return r.a.createElement(nt.a.Item,null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"checkboxNote-".concat(t),checked:n,onChange:function(){c(function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n,r){var c,i,o,l,s,m,u,d,p;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().activities.activeActivity,i=r().projects.activeProject,v.a.fire({title:"Actualizando nota",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),o={done:t},a.next=7,ee("notes/".concat(e),o,"PUT");case 7:return l=a.sent,a.next=10,l.json();case 10:if((s=a.sent).ok){a.next=16;break}for(d in m=s.errors,u="",m)m.hasOwnProperty(d)&&(p=m[d],u+="<li>".concat(p.msg,"</li>"));return a.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(u,"</ul>"),icon:"error"}));case 16:v.a.close(),n(Qe(s.note.id,s.note.done)),n(We(c.id,s.activityDone)),n(Ae(i.id,s.projectDone)),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),console.log(a.t0);case 25:case"end":return a.stop()}}),a,null,[[0,22]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,!n))}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"checkboxNote-".concat(t)},a)))},ct=function(){var e=Object(s.c)((function(e){return e.activities})).activeActivity.notes;return r.a.createElement(nt.a,{variant:"flush"},e.map((function(e,t){return r.a.createElement(rt,{key:t,id:e.id,text:e.text,done:e.done})})))},it=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",{className:"text-center"},"No hay notas en esta actividad"),r.a.createElement("p",{className:"text-center"},"Haz clic en el bot\xf3n ",r.a.createElement("b",null,"+")," para agregar una nota")))},ot=function(){var e=(Object(s.c)((function(e){return e.activities})).activeActivity||{}).notes;return(void 0===e?[]:e).length>0?r.a.createElement(ct,null):r.a.createElement(it,null)},lt=function(e){var t=e.show;return r.a.createElement("div",{className:"tab-pane fadeIn in ".concat(t&&"show active")},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ot,null))))},st=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",{className:"text-center"},"Nadie ha dejado un comentario en la actividad"),r.a.createElement("p",{className:"text-center"},"Haz clic en el bot\xf3n ",r.a.createElement("b",null,r.a.createElement("i",{className:"fas fa-comment-medical"}))," y s\xe9 el primero en dejar un comentario")))},mt=function(e){e.id;var t=e.text,a=e.user,n=e.date,c=De()(n).startOf("hour").fromNow(),i=a.name,o=a.img,l=void 0===o?"https://www.lifestylesolutionsbyworldmark.com/img/global/icon-user.svg":o;return r.a.createElement("li",{className:"row ml-3"},r.a.createElement("div",{className:"col-11"},r.a.createElement("div",{className:"messages-container"},r.a.createElement("div",{className:"d-flex justify-content-md-between"},r.a.createElement("div",{className:"information d-flex justify-content-start"},r.a.createElement("img",{src:l,alt:"avatar",className:"avatar rounded-circle d-flex align-self-center mr-2 z-depth-1"}),r.a.createElement("div",{className:"text-small"},r.a.createElement("strong",null,i),r.a.createElement("p",{className:"last-message text-muted"},r.a.createElement("em",null,"Publicado ",c))))),r.a.createElement("p",{className:"text-justify"},t)),r.a.createElement("hr",null)))},ut=function(){var e=Object(s.c)((function(e){return e.activities})).activeActivity.messages;return r.a.createElement(nt.a,{variant:"flush",className:"list-unstyled"},e.map((function(e,t){return r.a.createElement(mt,{key:t,id:e.id,text:e.text,user:e.user,date:e.created_at})})))},dt=function(){var e=(Object(s.c)((function(e){return e.activities})).activeActivity||{}).messages;return(void 0===e?[]:e).length>0?r.a.createElement(ut,null):r.a.createElement(st,null)},pt=function(e){var t=e.show;return r.a.createElement("div",{className:"tab-pane fadeIn in ".concat(t&&"show active")},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(dt,null))))},ft=function(){var e=Object(s.b)(),t=h({textNote:"Nueva nota"}),a=Object(p.a)(t,2),n=a[0],c=a[1],i=n.textNote;return r.a.createElement(Se.a,{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a,n){var r,c,i,o,l,s,m,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().activities.activeActivity.id,v.a.fire({title:"Agregando nota",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),c={text:e,activity:r},t.next=6,ee("notes",c,"POST");case 6:return i=t.sent,t.next=9,i.json();case 9:if((o=t.sent).ok){t.next=15;break}for(m in l=o.errors,s="",l)l.hasOwnProperty(m)&&(u=l[m],s+="<li>".concat(u.msg,"</li>"));return t.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(s,"</ul>"),icon:"error"}));case 15:v.a.close(),a(He()),a(Ke(o.note)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(Se.a.Group,null,r.a.createElement(Se.a.Control,{type:"text",placeholder:"Ingrese una nota",name:"textNote",value:i,onChange:c})),r.a.createElement(se.a,{variant:"outline-primary",type:"submit",block:!0},"Agregar"))},vt=function(){var e=Object(s.b)(),t=h({textMessage:"Un comentario cualquiera"}),a=Object(p.a)(t,2),n=a[0],c=a[1],i=n.textMessage;return r.a.createElement(Se.a,{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a,n){var r,c,i,o,l,s,m,u,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.name,c=n().activities.activeActivity.id,v.a.fire({title:"Agregando comentario",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),i={text:e,activity:c},t.next=7,ee("messages",i,"POST");case 7:return o=t.sent,t.next=10,o.json();case 10:if((l=t.sent).ok){t.next=16;break}for(u in s=l.errors,m="",s)s.hasOwnProperty(u)&&(d=s[u],m+="<li>".concat(d.msg,"</li>"));return t.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(m,"</ul>"),icon:"error"}));case 16:l.message.user=Object(E.a)(Object(E.a)({},l.message.user),{},{name:r}),v.a.close(),a(He()),a(Ye(l.message)),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(Se.a.Group,null,r.a.createElement(Se.a.Control,{as:"textarea",rows:"3",placeholder:"Ingrese su comentario",name:"textMessage",value:i,onChange:c,className:"no-resizable square scrollbar-dusty-grass square thin"})),r.a.createElement(se.a,{variant:"outline-primary",type:"submit",block:!0},"Agregar"))},bt=function(e){var t,a=e.tabNotesOpen,n=e.setTabNotesOpen;switch(e.variant){case"primary":t="primary-color";break;case"success":t="success-color";break;case"warning":t="warning-color";break;case"info":t="info-color";break;case"danger":t="danger-color";break;default:t="primary-color"}return r.a.createElement("ul",{className:"nav nav-tabs md-tabs nav-justified sticky-top ".concat(t)},r.a.createElement("li",{className:"nav-item nav-link cursor-pointer ".concat(a&&"active"),onClick:function(){return n(!0)}},r.a.createElement("span",null,r.a.createElement("i",{className:" fas fa-list pr-2"}),"Notas")),r.a.createElement("li",{className:"nav-item nav-link cursor-pointer ".concat(!a&&"active"),onClick:function(){return n(!1)}},r.a.createElement("span",null,r.a.createElement("i",{className:" fas fa-comment-alt pr-2"}),"Mensajes")))},Et=function(e){var t=e.children;return r.a.createElement("div",{className:"tab-content pt-5 z-depth-1"},t)},ht=a(111),gt=function(e){var t,a,n=e.variant,c=e.styleModal,i=e.position,o=e.header,l=e.children,s=e.openModal,m=e.onHide,u="",d="";switch(n){case"primary":t="modal-primary";break;case"success":t="modal-success";break;case"info":t="modal-info";break;case"warning":t="modal-warning";break;case"danger":t="modal-danger";break;default:t="modal-primary"}switch(c){case"side":switch(u="modal-side",i){case"top-right":d="modal-top-right",a="right";break;case"top-left":d="modal-top-left",a="left";break;case"bottom-right":d="modal-bottom-right",a="right";break;case"bottom-left":d="modal-bottom-left",a="left";break;default:d="modal-bottom-right",a="right"}break;case"fluid":u="modal-full-height modal-top modal-almost-full-screen",a="top";break;default:a="top"}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{show:s,onHide:m,"aria-labelledby":"example-modal-sizes-title-lg",className:"fade ".concat(a),dialogClassName:"".concat(u," ").concat(d," modal-notify ").concat(t)},o,l))},yt=function(e){var t,a=e.title;switch(e.textColor){case"black":t="text-black";break;case"white":default:t="text-white"}return r.a.createElement(ht.a.Header,{closeButton:!0},r.a.createElement(ht.a.Title,{className:t},a))},jt=function(e){var t=e.aditionalClass,a=void 0===t?"":t,n=e.children;return r.a.createElement(ht.a.Body,{className:a},n)},Nt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.activities})).activeActivity,a=Object(s.c)((function(e){return e.ui})).openSideModal,c=t||{},i=c.title,o=c.description,l=Object(n.useState)(!0),m=Object(p.a)(l,2),u=m[0],d=m[1],f=u?"Nueva nota":"Nuevo comentario",v=r.a.createElement(yt,{title:f,textColor:"white"});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container-body-modal"},r.a.createElement("div",{className:"child-div mh-20-vh square scrollbar-dusty-grass square thin"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h4",null,i),r.a.createElement("p",{className:"text-justify"},o))),r.a.createElement("div",{className:"child-div h-45-vh square scrollbar-dusty-grass square thin mt-3 mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(bt,{tabNotesOpen:u,setTabNotesOpen:d}),r.a.createElement(Et,null,r.a.createElement(lt,{show:u}),r.a.createElement(pt,{show:!u})),r.a.createElement(be,{variant:"primary",icon:u?"fas fa-plus":"fas fa-comment-medical",aditionalClass:"fab-bottom-modal",onClick:function(){e({type:C})}})))),r.a.createElement(gt,{header:v,openModal:a,onHide:function(){e(He())},variant:"primary",styleModal:"side",position:"bottom-right"},r.a.createElement(jt,null,u?r.a.createElement(ft,null):r.a.createElement(vt,null))))},Ot=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.activities})).activeActivity,a=t||{},n=a.title,c=void 0===n?"":n,i=a.description,o=h({formTitle:c,formDescription:void 0===i?"":i}),l=Object(p.a)(o,2),m=l[0],u=l[1],d=m.formTitle,f=m.formDescription;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container-body-modal justify-content-start"},r.a.createElement("div",{className:"child-div mh-65-vh square scrollbar-dusty-grass square thin"},r.a.createElement("div",{className:"col-12"},r.a.createElement(Se.a,null,r.a.createElement(Se.a.Group,null,r.a.createElement(Se.a.Label,{htmlFor:"formTitle"},"T\xedtulo de la actividad"),r.a.createElement(Se.a.Control,{id:"formTitle",type:"text",name:"formTitle",value:d,onChange:u,placeholder:"Ingrese el nombre de la actividad"})),r.a.createElement(Se.a.Group,null,r.a.createElement(Se.a.Label,{htmlFor:"formDescription"},"Descripci\xf3n de la actividad"),r.a.createElement(Se.a.Control,{id:"formDescription",as:"textarea",rows:"3",name:"formDescription",value:f,onChange:u,placeholder:"Ingrese la descripci\xf3n de la actividad",className:"no-resizable square square thin \n                                        ".concat(t?"scrollbar-light-green":"scrollbar-dusty-grass","\n                                    ")})),r.a.createElement(se.a,{variant:t?"success":"primary",type:"submit",block:!0,onClick:function(a){a.preventDefault(),e(t?function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n,r){var c,i,o,l,s,m,u,d;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().activities.activeActivity.id,v.a.fire({title:"Actualizando actividad",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),i={title:e,description:t},a.next=6,ee("activities/".concat(c),i,"PUT");case 6:return o=a.sent,a.next=9,o.json();case 9:if((l=a.sent).ok){a.next=15;break}for(u in s=l.errors,m="",s)s.hasOwnProperty(u)&&(d=s[u],m+="<li>".concat(d.msg,"</li>"));return a.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(m,"</ul>"),icon:"error"}));case 15:v.a.close(),n(Be()),n($e(l.activity)),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[0,20]])})));return function(e,t){return a.apply(this,arguments)}}()}(d,f):function(e,t){return function(){var a=Object(j.a)(y.a.mark((function a(n,r){var c,i,o,l,s,m,u,d;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().projects.activeProject.id,v.a.fire({title:"Agregando actividad",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),i={title:e,description:t,project:c},a.next=6,ee("activities",i,"POST");case 6:return o=a.sent,a.next=9,o.json();case 9:if((l=a.sent).ok){a.next=15;break}for(u in s=l.errors,m="",s)s.hasOwnProperty(u)&&(d=s[u],m+="<li>".concat(d.msg,"</li>"));return a.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(m,"</ul>"),icon:"error"}));case 15:v.a.close(),n(Be()),n(Ze(l.activity)),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[0,20]])})));return function(e,t){return a.apply(this,arguments)}}()}(d,f))}},"Guardar"))))))},wt=function(){return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"jumbotron text-center blue-grey lighten-5"},r.a.createElement("h2",{className:"card-title h2"},"No hay actividades en el proyecto"),r.a.createElement("p",{className:"indigo-text my-4 font-weight-bold"},"Las actividades deben ser peque\xf1as para que cada actividad sea f\xe1cil y r\xe1pida de crear"),r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",{className:"col-xl-7 pb-2"},r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga aliquid dolorem ea distinctio exercitationem delectus qui, quas eum architecto, amet quasi accusantium, fugit consequatur ducimus obcaecati numquam molestias hic itaque accusantium doloremque laudantium, totam rem aperiam."))),r.a.createElement("hr",{className:"my-4 pb-2"}),r.a.createElement("button",{className:"btn btn-lg btn-indigo btn-rounded"},"Crear actividad ahora ",r.a.createElement("i",{className:"fas fa-tasks"})))))},kt=function(){var e=Object(s.c)((function(e){return e.projects})).activeProject||{},t=e.id,a=e.area,n=e.title,c=e.description;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement(Me.a,{placement:"left",overlay:r.a.createElement(ze.a,null,"Editar el proyecto")},r.a.createElement(o.b,{className:"btn btn-success",to:"/projects/form/".concat(t)},r.a.createElement("i",{className:"fas fa-edit"}))))),r.a.createElement("div",{className:"container-body-modal justify-content-start"},r.a.createElement("div",{className:"child-div mh-65-vh square scrollbar-dusty-grass square thin"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row d-inline"},r.a.createElement("h3",null,"\xc1rea designada"),r.a.createElement("span",null,a)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row d-inline"},r.a.createElement("h3",null,"Nombre del proyecto"),r.a.createElement("span",null,n)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row d-inline"},r.a.createElement("h3",null,"Descripci\xf3n"),r.a.createElement("span",null,c))))))},xt=function(){var e=Object(s.b)(),t=Object(l.g)().pathname.split("/")[2],a=Object(s.c)((function(e){return e.activities})),c=a.activities,i=a.loading,m=a.activeActivity,u=Object(s.c)((function(e){return e.projects})),d=u.activeProject,f=u.loading,b=Object(s.c)((function(e){return e.ui})),E=b.openModal,h=b.openConfirmModal,g=b.isForm,N=Object(n.useState)(!1),O=Object(p.a)(N,2),w=O[0],k=O[1],x=De()(null===m||void 0===m?void 0:m.created_at).format("LL"),C=De()(null===m||void 0===m?void 0:m.updated_at).format("LL"),A=function(){e(Ge())},S=r.a.createElement("div",{className:"row justify-content-around text-black-50 text-center"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"row justify-content-start"},"Fecha de inicio: ",x)),r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"row justify-content-start"},"\xdaltima actualizaci\xf3n: ",C)),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement("button",{onClick:function(){e({type:P})},className:"btn btn-danger btn-block ml-1",style:{zIndex:"999"}},r.a.createElement("i",{className:"fas fa-trash"})))));return Object(n.useEffect)((function(){f||e(function(e){return function(){var t=Object(j.a)(y.a.mark((function t(a,n){var r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(we(e)),r=n().projects.activeProject,t.prev=2,r){t.next=6;break}return a(Ve()),t.abrupt("return",v.a.fire({title:"Error",text:"No se ha encontrado el proyecto especificado",icon:"error"}));case 6:return v.a.fire({title:"Cargando actividades",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),t.next=9,ee("activities/".concat(e));case 9:return c=t.sent,t.next=12,c.json();case 12:if((i=t.sent).ok){t.next=16;break}return a(Je([])),t.abrupt("return",v.a.fire({title:"Error",text:i.msg||"Ha ocurrido un error inesperado",icon:"error"}));case 16:v.a.close(),a(Je(i.activities)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}),[e,t,f]),Object(n.useEffect)((function(){return function(){e(Be())}}),[e]),i?r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3"},r.a.createElement("div",{className:"col-12 text-center mt-5"},r.a.createElement(ce,null))):d?r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3 animate__animated animate__fadeIn animate__faster"},r.a.createElement("div",{className:"row justify-content-between ml-1 mr-1 mt-2 mb-2"},r.a.createElement(Me.a,{placement:"right",overlay:r.a.createElement(ze.a,null,"Informaci\xf3n del proyecto")},r.a.createElement("button",{className:"btn btn-warning btn-info",onClick:function(){k(!0),e(Ue())}},r.a.createElement("i",{className:"fas fa-info"}))),r.a.createElement(o.b,{className:"btn btn-indigo",to:"/",style:{zIndex:"999"}},r.a.createElement("i",{className:"fas fa-arrow-left"})," ","Regresar")),c.length<=0?r.a.createElement(wt,null):r.a.createElement(at,null),r.a.createElement(be,{variant:"primary",icon:"fas fa-plus",onClick:function(){e(Re()),e(Ue())}}),r.a.createElement(gt,{openModal:E,onHide:function(){e(Be()),w?k(!1):e({type:Y})},variant:m&&g?"success":"primary",styleModal:"fluid",header:r.a.createElement(yt,{title:w?"Informaci\xf3n de proyecto":m?"Actividad: ".concat(m.title):"Agregar nueva actividad"})},r.a.createElement(jt,null,!!m&&!w&&S,r.a.createElement("hr",null),w?r.a.createElement(kt,null):g?r.a.createElement(Ot,null):r.a.createElement(Nt,null))),r.a.createElement(gt,{openModal:h,onHide:A,variant:"danger",styleModal:"side",position:"top-right",header:r.a.createElement(yt,{title:"Eliminar actividad"})},r.a.createElement(jt,null,r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"text-center"},r.a.createElement("b",null,"\xbfEst\xe1s seguro que deseas eliminar la actividad? Esta acci\xf3n no se podr\xe1 deshacer")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-secondary btn-sm btn-block",onClick:A},"Cancelar")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{onClick:function(){e(function(){var e=Object(j.a)(y.a.mark((function e(t,a){var n,r,c,i,o,l,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().activities.activeActivity.id,v.a.fire({title:"Eliminando actividad",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),e.next=5,ee("activities/".concat(n),{},"DELETE");case 5:return r=e.sent,e.next=8,r.json();case 8:if((c=e.sent).ok){e.next=14;break}for(l in i=c.errors,o="",i)i.hasOwnProperty(l)&&(s=i[l],o+="<li>".concat(s.msg,"</li>"));return e.abrupt("return",v.a.fire({title:"Error",html:"<ul>".concat(o,"</ul>"),icon:"error"}));case 14:v.a.close(),t(Ge()),t(Be()),t(et(c.activity)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,a){return e.apply(this,arguments)}}())},className:"btn btn-success btn-sm btn-block"},"Continuar")))))):r.a.createElement(Te,null)},Ct=(a(98),a(99),function(){return r.a.createElement(n.Fragment,null,r.a.createElement(me,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/projects",component:Pe}),r.a.createElement(l.b,{exact:!0,path:"/projects/form/:id?",component:Le}),r.a.createElement(l.b,{exact:!0,path:"/projects/:id/activities",component:xt}),r.a.createElement(l.a,{to:"/projects"})))}),At=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),a=t.checking,c=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("auth/renew");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(te({uid:n.uid,name:n.name}))):t(ae());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?r.a.createElement("div",{className:"container-fluid pb-3 pt-3 pl-3 pr-3"},r.a.createElement("div",{className:"col-12 text-center mt-5"},r.a.createElement(ce,null))):(c&&e(function(){var e=Object(j.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v.a.fire({title:"Cargando proyectos",text:"Por favor espere...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),e.next=4,ee("projects");case 4:return a=e.sent,e.next=7,a.json();case 7:if((n=e.sent).ok){e.next=10;break}return e.abrupt("return",v.a.fire({title:"Error",text:n.msg||"Ha ocurrido un error inesperado",icon:"error"}));case 10:v.a.close(),t(Oe(n.projects)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()),r.a.createElement(n.Fragment,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(u,{exact:!0,path:"/login",component:re,isAuthenticated:!!c}),r.a.createElement(d,{path:"/",component:Ct,isAuthenticated:!!c}))))))},Pt=a(34),St={checking:!0},It={openModal:!1,openSideModal:!1,confirmModal:!1,isForm:!1},_t=a(46),Tt={projects:[],activeProject:null,conditionShowProjects:0,showFinishedProjects:!1,loading:!0,error:!1},Lt={activities:[],activeActivity:null,activeNote:null,activeMessage:null,loading:!0},qt=Object(Pt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(E.a)(Object(E.a)({},e),{},{checking:!1},t.payload);case O:return Object(E.a)(Object(E.a)({},e),{},{checking:!1});case w:return{checking:!1};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(E.a)(Object(E.a)({},e),{},{openModal:!0});case x:return Object(E.a)(Object(E.a)({},e),{},{openModal:!1});case C:return Object(E.a)(Object(E.a)({},e),{},{openSideModal:!0});case A:return Object(E.a)(Object(E.a)({},e),{},{openSideModal:!1});case P:return Object(E.a)(Object(E.a)({},e),{},{openConfirmModal:!0});case S:return Object(E.a)(Object(E.a)({},e),{},{openConfirmModal:!1});case I:return Object(E.a)(Object(E.a)({},e),{},{isForm:!0});case _:return Object(E.a)(Object(E.a)({},e),{},{isForm:!1});default:return e}},projects:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case F:return Object(E.a)(Object(E.a)({},t),{},{showFinishedProjects:!t.showFinishedProjects});case B:return Object(E.a)(Object(E.a)({},t),{},{conditionShowProjects:a.payload.index});case T:return Object(E.a)(Object(E.a)({},t),{},{projects:a.payload.projects,loading:!1});case L:return e=fe(t.projects,a.payload.id),Object(E.a)(Object(E.a)({},t),{},{activeProject:e,error:!e});case D:return Object(E.a)(Object(E.a)({},t),{},{projects:[].concat(Object(_t.a)(t.projects),[a.payload.project]),activeProject:null,error:null});case M:return Object(E.a)(Object(E.a)({},t),{},{projects:t.projects.map((function(e){return e.id.toString()===t.activeProject.id.toString()?a.payload.project:e})),activeProject:null,error:null});case z:return Object(E.a)(Object(E.a)({},t),{},{projects:t.projects.map((function(e){return e.id.toString()===a.payload.id.toString()?Object(E.a)(Object(E.a)({},e),{},{done:a.payload.done}):e}))});case q:return Object(E.a)(Object(E.a)({},t),{},{activeProject:null,error:!1});default:return t}},activities:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case U:return Object(E.a)(Object(E.a)({},t),{},{loading:!1});case H:return Object(E.a)(Object(E.a)({},t),{},{loading:!1,activities:a.payload.activities});case G:return Object(E.a)(Object(E.a)({},t),{},{activeActivity:fe(t.activities,a.payload.id)});case Y:return Object(E.a)(Object(E.a)({},t),{},{activeActivity:null});case R:return e=Object(E.a)(Object(E.a)({},t.activeActivity),{},{notes:[].concat(Object(_t.a)(t.activeActivity.notes),[a.payload.note])}),Object(E.a)(Object(E.a)({},t),{},{activeActivity:e,activities:t.activities.map((function(a){return a.id.toString()===t.activeActivity.id.toString()?e:a}))});case J:return e=Object(E.a)(Object(E.a)({},t.activeActivity),{},{notes:t.activeActivity.notes.map((function(e){return e.id.toString()===a.payload.id.toString()?Object(E.a)(Object(E.a)({},e),{},{done:a.payload.done}):e}))}),Object(E.a)(Object(E.a)({},t),{},{activeActivity:e,activities:t.activities.map((function(a){return a.id.toString()===t.activeActivity.id.toString()?e:a}))});case V:return e=Object(E.a)(Object(E.a)({},t.activeActivity),{},{messages:[].concat(Object(_t.a)(t.activeActivity.messages),[a.payload.message])}),Object(E.a)(Object(E.a)({},t),{},{activeActivity:e,activities:t.activities.map((function(a){return a.id.toString()===t.activeActivity.id.toString()?e:a}))});case X:return Object(E.a)(Object(E.a)({},t),{},{activities:[].concat(Object(_t.a)(t.activities),[a.payload.activity])});case K:return Object(E.a)(Object(E.a)({},t),{},{activities:t.activities.map((function(e){return e.id.toString()===t.activeActivity.id.toString()?a.payload.activity:e})),activeActivity:null});case Q:return Object(E.a)(Object(E.a)({},t),{},{activities:t.activities.map((function(e){return e.id.toString()===a.payload.id.toString()?Object(E.a)(Object(E.a)({},e),{},{done:a.payload.done}):e}))});case W:return Object(E.a)(Object(E.a)({},t),{},{activeActivity:null,activities:t.activities.filter((function(e){return e.id.toString()!==t.activeActivity.id.toString()&&e}))});default:return t}}}),Dt=a(83),Mt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pt.d,zt=Object(Pt.e)(qt,Mt(Object(Pt.a)(Dt.a))),Ft=function(){return r.a.createElement(s.a,{store:zt},r.a.createElement(At,null))};a(100),a(101);i.a.render(r.a.createElement(Ft,null),document.getElementById("root"))},84:function(e,t,a){e.exports=a(102)},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.564f63a1.chunk.js.map